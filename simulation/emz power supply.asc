Version 4
SHEET 1 1560 680
WIRE 416 -416 144 -416
WIRE 224 -384 208 -384
WIRE -400 -368 -480 -368
WIRE -368 -368 -400 -368
WIRE -272 -368 -304 -368
WIRE -192 -368 -192 -400
WIRE -192 -368 -272 -368
WIRE -128 -368 -192 -368
WIRE -16 -368 -32 -368
WIRE 80 -368 64 -368
WIRE 208 -352 208 -384
WIRE -480 -336 -480 -368
WIRE -400 -336 -400 -368
WIRE -272 -336 -272 -368
WIRE -192 -336 -192 -368
WIRE 144 -336 144 -416
WIRE 176 -336 144 -336
WIRE 288 -320 240 -320
WIRE 416 -320 416 -416
WIRE 416 -320 368 -320
WIRE 448 -320 416 -320
WIRE -64 -304 -64 -320
WIRE 80 -304 80 -368
WIRE 80 -304 -64 -304
WIRE 176 -304 80 -304
WIRE 80 -288 80 -304
WIRE 448 -288 448 -320
WIRE 208 -256 208 -288
WIRE -480 -240 -480 -256
WIRE -400 -240 -400 -272
WIRE -400 -240 -480 -240
WIRE -368 -240 -400 -240
WIRE -272 -240 -272 -272
WIRE -272 -240 -304 -240
WIRE -192 -240 -192 -272
WIRE -192 -240 -272 -240
WIRE 528 -240 496 -240
WIRE -272 -208 -272 -240
WIRE 80 -208 80 -224
WIRE 448 -176 448 -208
WIRE 576 -16 560 -16
WIRE -528 16 -608 16
WIRE -384 16 -448 16
WIRE -320 16 -384 16
WIRE -192 16 -256 16
WIRE -112 16 -192 16
WIRE -32 16 -112 16
WIRE 112 16 48 16
WIRE 400 16 208 16
WIRE 560 16 560 -16
WIRE 560 16 480 16
WIRE -608 48 -608 16
WIRE -384 48 -384 16
WIRE -192 48 -192 16
WIRE -112 48 -112 16
WIRE 560 48 560 16
WIRE 1120 64 1120 32
WIRE 1296 80 1152 80
WIRE 1328 80 1296 80
WIRE 1440 80 1408 80
WIRE 1088 96 944 96
WIRE 1184 112 1152 112
WIRE 1296 112 1296 80
WIRE -608 160 -608 128
WIRE -384 160 -384 112
WIRE -384 160 -608 160
WIRE -320 160 -384 160
WIRE -192 160 -192 112
WIRE -192 160 -256 160
WIRE -112 160 -112 112
WIRE -112 160 -192 160
WIRE 560 160 560 128
WIRE 1120 160 1120 128
WIRE -192 192 -192 160
WIRE 1296 224 1296 192
FLAG -192 192 0
FLAG 1184 112 Vset
IOPIN 1184 112 In
FLAG 1120 160 0
FLAG 1120 32 Vdd
IOPIN 1120 32 In
FLAG 560 160 0
FLAG -272 -208 0
FLAG 80 -208 0
FLAG -192 -400 Vdd
IOPIN -192 -400 Out
FLAG 208 -256 0
FLAG 224 -384 Vdd
IOPIN 224 -384 In
FLAG 448 -176 0
FLAG 528 -240 Vset
IOPIN 528 -240 Out
FLAG 576 -16 Vout
IOPIN 576 -16 Out
FLAG 1296 224 0
FLAG 1440 80 Vout
IOPIN 1440 80 In
SYMBOL Misc\\signal -608 32 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 33.94 50.15)
SYMBOL schottky -320 32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D1
SYMATTR Value DI_GBU406
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -256 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 Invisible 2
SYMATTR InstName D2
SYMATTR Value DI_GBU406
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -368 112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D3
SYMATTR Value DI_GBU406
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky -176 112 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D4
SYMATTR Value DI_GBU406
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL polcap -128 48 R0
SYMATTR InstName C1
SYMATTR Value 10m
SYMATTR SpiceLine Rser=0.065
SYMBOL npn 112 80 R270
SYMATTR InstName Q1
SYMATTR Value TIP112
SYMATTR Prefix X
SYMBOL res 544 32 R0
SYMATTR InstName R1
SYMATTR Value 5
SYMBOL res 384 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 100m
SYMATTR SpiceLine tol=1
SYMBOL Opamps\\LT1677 1120 32 M0
SYMATTR InstName U2
SYMBOL res -544 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 100m
SYMATTR SpiceLine tol=1
SYMBOL res -48 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 100m
SYMATTR SpiceLine tol=1
SYMBOL Misc\\signal -480 -352 M0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 12.72 50.15)
SYMBOL diode -384 -272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL diode -368 -352 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode -288 -272 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Invisible 2
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode -304 -224 M270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 Invisible 2
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL polcap -208 -336 R0
SYMATTR InstName C2
SYMATTR Value 1m
SYMATTR SpiceLine Rser=0.065
SYMBOL njf -128 -320 R270
SYMATTR InstName J1
SYMBOL res 80 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMATTR SpiceLine tol=1
SYMBOL diode 64 -224 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D9
SYMATTR Value LM336Z-5.0
SYMBOL Opamps\\LT1677 208 -384 R0
SYMATTR InstName U1
SYMBOL potentiometer 432 -304 R0
SYMATTR InstName U3
SYMATTR Value Rtot=10K wiper=1
SYMBOL res 384 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res 1280 96 R0
SYMATTR InstName R7
SYMATTR Value 2k
SYMBOL res 1424 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10k
TEXT -640 368 Left 2 !.tran 100m
TEXT -536 312 Left 1 !*SRC=GBU406;DI_GBU406;Diodes;Si;  600V  4.00A  3.00us   Diodes Inc. Bridge -- for one element\n.MODEL DI_GBU406 D  ( IS=23.3n RS=7.20m BV=600 IBV=5.00u\n+ CJO=148p  M=0.333 N=1.80 TT=4.32u )
TEXT -328 80 Left 2 ;GBU406
TEXT -696 224 Left 2 !.lib TIP112.lib
TEXT 56 352 Left 2 !.model LM336Z-5.0 D(bv=5 rs=0.6 ibv=1m type=Zener)
TEXT -472 400 Left 2 !.inc potentiometer.sub
